{"mappings":"AAAA,MAAMA,gBAAkBC,SAASC,eAAe,WAC1CC,QAAUF,SAASG,cAAc,kBACjCC,KAAOF,QAAQC,cAAc,SAC7BE,WAAaH,QAAQC,cAAc,KAEnCG,kBAAoBC,OAAOC,YA2CjC,SAASC,QAAQC,EAAQ,EAAGC,EAAQ,GAAIC,EAAO,EAAGC,EAAK,GAAIC,EAAO,GAChE,MAEMC,EAFgC,KAAjBJ,EAAQD,GAAgBC,GACL,KAAbC,EAAOC,IAAcD,EAAOC,IACNC,EAEjD,OAAOC,EAAS,GAAa,EAATA,EAAcA,EAGpCR,OAAOS,iBAAiB,UAAU,IAChCT,OAAOU,uBAAsB,KAC3B,MAAMC,IAAEA,EAAGC,OAAEA,GAAWjB,QAAQkB,wBAQ1BN,GAHaP,OAAOC,YAIyC,IAAjEC,QAHaS,EAAMhB,QAAQmB,aAGXf,kBAAoB,IAAK,EAAG,EAAG,IAAKgB,QAAQ,IAE9DpB,QAAQqB,MAAMC,OAAS,QAAQ,IAAW,IAAPV,EAAc,OACjDZ,QAAQqB,MAAME,QAA4B,KAAjB,EAAIX,EAAO,IAEpCV,KAAKmB,MAAMG,UAAY,cAAc,GAAY,GAAPZ,OAC1CT,WAAWkB,MAAMG,UAAY,cAAc,GAAY,GAAPZ","sources":["www/src/index-avatar.tsx"],"sourcesContent":["const HalftoneElement = document.getElementById(\"profile\");\nconst landing = document.querySelector(\".landing--word\");\nconst word = landing.querySelector(\".word\");\nconst definition = landing.querySelector(\"p\");\n\nconst windowInnerHeight = window.innerHeight;\n\n// So we want to detect if a element is in the middle\n// of the screen, with that we want to trigger some parallax\n// so that the scrolling, with some margins can give animation to an element\n// +-------------------+\n// | The page          |\n// +-------------------+\n// |                   |\n// |  The view port    |\n// |                   |\n// | +---------------+ |\n// +-+---------------+-+\n// | |               | |\n// | |  Our element  | |\n// | |               | |\n// | +---------------+ |\n// |                   |\n// +-------------------+\n//\n// The page with might be irrelevant let's explore the options\n// Viewport can be rapresented by\n// top: current top scrolling position\n// bottom: the top + the height of the viewport\n//\n// Element has the following properties\n// top: from getBoundingClientRect().top the current position relative to viewport\n// bottom: from getBoundingClientRect().bottom the current position relative to viewport\n//\n// So lets plot a scenario\n// We have a viewport of { top: 10, bottom: 20 } The height of viewport is 10.\n// Then we have our element at { top: 20, bottom: 30  } The height of the element is same as the viewport.\n// We then want to have a blur of 5px and when the element is at the center we want to have of 0px\n//\n// The first thing is to make sure that the element is in the viewport\n// if (bottom >= top ) is visible from bottom\n// then we now that the blur should be 5px\n// Although when viewport becomes { top: 15, bottom: 25 }\n// and the elements becomes { top: 0, bottom: 10 } the blur should be 0px\n// To invert this calculation we could do\n// (heightOfTheWindow - (topOfTheElement+heightOfTheWindow)) so in our case if is visible 10-10 but if\n// not in window\n\nfunction getStep(input = 0, total = 10, from = 0, to = 10, step = 1) {\n  const percentage = ((total - input) * 100) / total;\n  const inStepPercentage = ((from - to) * 100) / (from - to);\n  const inStep = (percentage / inStepPercentage) * step;\n\n  return inStep < 0 ? inStep * -1 : inStep;\n}\n\nwindow.addEventListener(\"scroll\", () =>\n  window.requestAnimationFrame(() => {\n    const { top, bottom } = landing.getBoundingClientRect();\n\n    const max = 0;\n    const min = 5;\n\n    const halfWindow = window.innerHeight / 2;\n    const middle = top + landing.clientHeight;\n    // ((input - min) * 100) / (max - min)\n    const step =\n      getStep(middle, windowInnerHeight - 100, 0, 5, 0.1).toFixed(3) * 100;\n\n    landing.style.filter = `blur(${1 - step * -1.5 - 4}px)`;\n    landing.style.opacity = (1 - step / 10) * 1.4;\n\n    word.style.transform = `translateX(${20 - step * 10}px)`;\n    definition.style.transform = `translateX(${20 + step * 10}px)`;\n  })\n);\n"],"names":["HalftoneElement","document","getElementById","landing","querySelector","word","definition","windowInnerHeight","window","innerHeight","getStep","input","total","from","to","step","inStep","addEventListener","requestAnimationFrame","top","bottom","getBoundingClientRect","clientHeight","toFixed","style","filter","opacity","transform"],"version":3,"file":"index.8240f3eb.js.map"}